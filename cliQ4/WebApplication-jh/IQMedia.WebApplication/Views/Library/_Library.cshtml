@using IQMedia.Model;
@using IQMedia.Shared.Utility;
@model List<IQArchive_MediaModel>
@if (Model != null)
{
    SessionInformation sessionInformation = IQMedia.WebApplication.Utility.CommonFunctions.GetSessionInformation();
    string mediaIconFormat = "../images/MediaIcon/{0}?v=1.3";
    foreach (IQArchive_MediaModel item in Model)
    {
        string Month = item.MediaDate != null ? item.MediaDate.ToString("MMM", System.Globalization.CultureInfo.InvariantCulture) : string.Empty;
        string Day = item.MediaDate != null ? item.MediaDate.Day.ToString() : string.Empty;
        string Time = item.MediaDate != null && item.MediaType != CommonFunctions.CategoryType.PQ.ToString() ? item.MediaDate.ToString("hh:mm tt") : string.Empty;

        switch (item.SubMediaType)
        {
            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.TV:

                IQArchive_ArchiveClipModel TVModel = item.MediaData as IQArchive_ArchiveClipModel;
                string TotalAdShareValue = string.Empty;
                string TotalNielsen_Result = string.Empty;
                string TotalNeilsenAudience = string.Empty;

                string TVThumbUrl = Convert.ToString(System.Configuration.ConfigurationManager.AppSettings["IQArchieve_TVThumbUrl"]);
                TVThumbUrl += TVModel.ClipID;

                Month = TVModel.LocalDateTime != null ? TVModel.LocalDateTime.ToString("MMM", System.Globalization.CultureInfo.InvariantCulture) : string.Empty;
                Day = TVModel.LocalDateTime != null ? TVModel.LocalDateTime.Day.ToString() : string.Empty;
                Time = TVModel.LocalDateTime != null ? TVModel.LocalDateTime.ToString("hh:mm tt") : string.Empty;

                if (TVModel.ChildResults != null && TVModel.ChildResults.Count > 0)
                {
                    decimal SumAdShareValue = TVModel.National_IQAdShareValue.HasValue ? TVModel.National_IQAdShareValue.Value : 0;
                    if (SumAdShareValue > 0)
                    {
                        TotalAdShareValue = string.Format("{0:n2}", (SumAdShareValue));
                        TotalNielsen_Result = TVModel.National_Nielsen_Result;
                    }

                    long SumAudience = TVModel.National_Nielsen_Audience.HasValue ? TVModel.National_Nielsen_Audience.Value : 0;
                    if (SumAudience > 0)
                    {
                        TotalNeilsenAudience = string.Format("{0:n0}", (SumAudience));
                    }

                }
                
    <div id="divMedia_@item.ID" class="media">
        <div class="tvFeedsDate">
            <div class="pull-left">
                <div class="post-date">
                    <span class="month">@Month</span><div>
                        <span class="today">@Day</span></div>
                    <span class="timeWithTimeZone">@Time @TVModel.TimeZone</span></div>
                <div align="center" class="network">
                    <img src="@String.Format(mediaIconFormat, "network-icon.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.TV)" alt=""></div>
            </div>
        </div>
        <div class="pull-left tvFeedsMarket">
            <div style="float: left">
                <div class="minHeight32">
                    <img alt="" src="@TVModel.StationLogo" /></div>
            </div>
        </div>
        <div class="tvFeedsContent">
            <div class="pull-left media-body tvFeedsDetail">
                <span class="media-heading" id="spnTitle_@item.ID">@item.Title</span>
                <div class="clearfix">
                </div>
                @if (!string.IsNullOrWhiteSpace(@TVModel.Market))
                {
                    <span style="color: #73797F;">@TVModel.Market - </span>
                }
                @Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right tvFeedsThumbParent">
            <div class="float-left video-thumb-width tvFeedsThumb marginRight10">
                <div class="positionRelative">                    
                    <a class="cursorPointer" onclick="LoadClipPlayer('@TVModel.ClipID');">
                        <img csrc="@TVThumbUrl" class="maxwidth130" alt="" /></a></div>
            </div>
            <div class="float-right tvFeedsCheck">
                <input type="checkbox" onclick="javascript:void(0);" id="chkdivResults_@item.ID" value="@item.ID" />
                <input type="hidden" value="@((TVModel._ParentID == 0 || TVModel._ParentID == null) ? "true" : "false")" id="hdnIsParent_@item.ID" />
            </div>
        </div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDivTVLib float-left">
                <div style="width: 65px" class="float-left">
                    <div align="center" class="margintop2">
                        @if (TVModel.ChildResults != null && TVModel.ChildResults.Count > 0)
                        {
                            <a href="javascript:void(0);"  title="View More" onclick="ShowChild('@item.ID');">
                                <img alt="" id="expand_@item.ID" src="../images/expand.png" /></a>
                        }
                    </div>
                </div>
                <div class="tvcreateddatediv margintop0 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTV_@item.ID" class="margintop2 lineHeight15 float-left actionBarsection marginleft22" >
                    <div class="float-right sentimentLeftFloat actionBarsection" title="Sentiment">
                        <div class="float-left">
                            <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                                style="width: 13px; margin-top: 3px;">&nbsp;</div>
                        <div class="divSentimentMain sentimentFont">
                            <div class="divSentimentMain">
                                <div class="divSentimentNeg">
                                    <div style='width:@((TVModel.NegativeSentiment * 6) > 25 ? 25 : (TVModel.NegativeSentiment * 6))px;'>
                                        @TVModel.NegativeSentiment
                                    </div>
                                </div>
                                <div class="divSentimentPos">
                                    <div style='width:@((TVModel.PositiveSentiment * 6) > 25 ? 25 : (TVModel.PositiveSentiment * 6))px;'>
                                        @TVModel.PositiveSentiment
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="float-left tvchild-tagLib">
                    <div class="TVvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                        <div class="view" title="Audience">
                            @(TVModel.Nielsen_Audience.HasValue && TVModel.Nielsen_Audience > 0 && sessionInformation.IsNielsenData ? string.Format("{0:n0}", TVModel.Nielsen_Audience) : string.Empty)
                        </div>
                    </div>
                    <div class="TVvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                        <div class="price">
                            @(TVModel.IQAdShareValue.HasValue && TVModel.IQAdShareValue > 0 && sessionInformation.IsNielsenData ? string.Format("{0:n2}", TVModel.IQAdShareValue) : string.Empty)
                            @(TVModel.IQAdShareValue.HasValue && TVModel.IQAdShareValue > 0 && sessionInformation.IsNielsenData ? (!string.IsNullOrWhiteSpace(TVModel.Nielsen_Result) ? "(" + TVModel.Nielsen_Result.ToUpper() + ")" : string.Empty) : string.Empty)
                        </div>
                    </div>
                </div>
                <div class="float-left tvchild-tagLib">
                    <div class="TVvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                        <div class="totalview" title="Audience">
                            @if (!string.IsNullOrEmpty(TotalNeilsenAudience) && sessionInformation.IsNielsenData)
                            {
                                <text>@TotalNeilsenAudience</text>
                            }
                        </div>
                    </div>
                    <div class="TVvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                        <div class="totalprice">
                            @if (!string.IsNullOrEmpty(TotalAdShareValue) && sessionInformation.IsNielsenData)
                            {
                                <text>@TotalAdShareValue @TotalNielsen_Result</text>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Views" onclick="ShowPlayLogNSummaryPopup('@TVModel.ClipID','@TVThumbUrl');">
                        <img src="~/images/chart-16.png" alt="Metrics" />
                    </a>
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a>
                    @{
                                                                                                                                    if (Convert.ToBoolean(TempData["v4Download"]))
                                                                                                                                    {
                        <a id="lnkDownloadClip_@item.ID" onclick="DownloadTV('@item.ID');" href="javascript:void(0);" rel="popover" class="marginLeft13 fleft cursorPointer">
                            <img title="Download Clip" alt="Download Clip" src="~/images/save.png" />
                        </a>    
                                                                                                                                    }
                    }
                    <a href="javascript:void(0);"  class="marginLeft13 cursorPointer fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                        <img src="~/images/trash.png" alt="Delete" />
                    </a>
                </div>
            </div>
        </div>
        @if (TVModel.ChildResults != null && TVModel.ChildResults.Count > 0)
        {
            <div class="clear" style="display:none;" id="divChildMedia_@item.ID">
                @foreach (IQArchive_MediaModel childItem in TVModel.ChildResults)
                {
                    IQArchive_ArchiveClipModel IQArchive_ChildArchiveClipModel = (IQArchive_ArchiveClipModel)childItem.MediaData;
                    string maxNegativeSentimetnWidth = string.Empty;
                    string maxPositiveSentimetnWidth = string.Empty;
                    string NielsenAudience = string.Empty;
                    string iqAdShareValue = string.Empty;
                    string nielsen_Result = string.Empty;

                    if ((IQArchive_ChildArchiveClipModel.NegativeSentiment * 6) > 25)
                    {

                        maxNegativeSentimetnWidth = "25px";
                    }
                    else
                    {
                        maxNegativeSentimetnWidth = Convert.ToString(IQArchive_ChildArchiveClipModel.NegativeSentiment * 6) + "px";
                    }


                    if ((IQArchive_ChildArchiveClipModel.PositiveSentiment * 6) > 25)
                    {

                        maxPositiveSentimetnWidth = "25px";
                    }
                    else
                    {
                        maxPositiveSentimetnWidth = Convert.ToString(IQArchive_ChildArchiveClipModel.PositiveSentiment * 6) + "px";
                    }



                    if (IQArchive_ChildArchiveClipModel.Nielsen_Audience.HasValue)
                    {
                        NielsenAudience = string.Format("{0:n0}", IQArchive_ChildArchiveClipModel.Nielsen_Audience);
                    }


                    if (IQArchive_ChildArchiveClipModel.IQAdShareValue.HasValue)
                    {
                        iqAdShareValue = string.Format("{0:n2}", (IQArchive_ChildArchiveClipModel.IQAdShareValue.Value));

                        if (!string.IsNullOrWhiteSpace(IQArchive_ChildArchiveClipModel.Nielsen_Result))
                        {
                            nielsen_Result = IQArchive_ChildArchiveClipModel.Nielsen_Result.ToUpper();
                        }
                    }
                    <div class="media" id="divMedia_@childItem.ID">
                        <div class="clear">
                            <div class="actionBarLeftDivTVLib float-left">
                                <div style="width: 65px" class="float-left">
                                    <div align="center" class="margintop2">
                                        <img alt="" src="@IQArchive_ChildArchiveClipModel.StationLogo" /></div>
                                </div>
                                <div class="tvcreateddatediv tvsentimentmargintop trimtext">
                                    @IQArchive_ChildArchiveClipModel.Market
                                </div>
                                <div id="divSentimentTV_@childItem.ID" class="margintop2 lineHeight15 float-left tvsentimentmargintop marginleft22">
                                    <div class="float-right sentimentLeftFloat actionBarsection" title="Sentiment">
                                        <div class="float-left">
                                            <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                                                style="width: 13px; margin-top: 3px;">&nbsp;</div>
                                        <div class="divSentimentMain sentimentFont">
                                            <div class="divSentimentMain">
                                                <div class="divSentimentNeg">
                                                    <div style='width:@maxNegativeSentimetnWidth'>
                                                        @IQArchive_ChildArchiveClipModel.NegativeSentiment
                                                    </div>
                                                </div>
                                                <div class="divSentimentPos">
                                                    <div style='width:@maxPositiveSentimetnWidth'>
                                                        @IQArchive_ChildArchiveClipModel.PositiveSentiment
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="float-left tvchild-tagLib tvsentimentmargintop">
                                    <div class="TVvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                                        <div class="view" title="Audience">
                                            @if (Convert.ToDecimal(IQArchive_ChildArchiveClipModel.IQAdShareValue) > 0 && sessionInformation.IsNielsenData)
                                            {            
                                                <text>@NielsenAudience</text>
                                            }
                                        </div>
                                    </div>
                                    <div class="TVvideo-tags-ParentChildLib margintop0  float-left actionBarsection">
                                        <div class="price">
                                            @if (IQArchive_ChildArchiveClipModel.IQAdShareValue > 0 && sessionInformation.IsNielsenData)
                                            {
                                                <text>@iqAdShareValue @nielsen_Result</text>
                                            }
                                        </div>
                                    </div>
                                    <div class="TVvideo-tags-ParentChildLib margintop0  float-left actionBarsection">
                                        @IQArchive_ChildArchiveClipModel.LocalDateTime.ToString("hh:mm tt") @IQArchive_ChildArchiveClipModel.TimeZone
                                    </div>
                                </div>
                            </div>
                            <div class="float-right tvFeedsThumbParentChild">
                                <div class="float-left tvFeedsThumb marginRight10" align="center">
                                    <div class="positionRelative">
                                        <a onclick="LoadClipPlayer('@IQArchive_ChildArchiveClipModel.ClipID');" class="cursorPointer">
                                            <img width="42" height="42" id="ibtnPlay" src="../Images/Play.png" alt="" />
                                        </a>
                                    </div>
                                </div>
                                <div>
                                    <a class="pull-right" href="javascript:void(0);">
                                        <input type="checkbox" value="@childItem.ID" id="chkdivChildResults_@childItem.ID"  />
                                    </a><a onclick="DeleteByID('@childItem.ID');" title="Delete Item" class="cursorPointer pull-right "
                                        href="javascript:void(0);">
                                        <img alt="Delete" src="/images/trash.png">
                                    </a><a class="cursorPointer pull-right " rel="popover" href="javascript:void(0);"
                                        onclick="DownloadTV('@childItem.ID');" id="lnkDownloadClip_1270">
                                        <img src="/images/save.png" alt="Download Clip" title="Download Clip">
                                    </a><a onclick="OpenEditRecord('@childItem.ID');" title="Edit Record" class="cursorPointer pull-right "
                                        href="javascript:void(0);">
                                        <img alt="edit" src="/images/edit.png"></a>
                                </div>
                                <input type="hidden" value="@((IQArchive_ChildArchiveClipModel._ParentID == 0 || IQArchive_ChildArchiveClipModel._ParentID == null) ? "true" : "false")" id="hdnIsParent_@childItem.ID" />
                                <div class="clearfix">
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
    </div>

        break;

            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.TW:
        IQArchive_ArchiveTweetsModel twitterModel = item.MediaData as IQArchive_ArchiveTweetsModel;
                        
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @sessionInformation.TimeZone</span>
            </div>
            <div align="center" class="network">
                <img src="@String.Format(mediaIconFormat, "twitter.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.TW)" alt="" />
            </div>
        </div>
        <div class="pull-left TweetBodyDivIQP borderBoxSizing">
            <div class="pull-left TweetActorDisplayName">
                @{
                                                                            string actorlink = string.Empty;
                                                                            if (IQMedia.Shared.Utility.CommonFunctions.Validate_url(twitterModel.ActorLink + "/status/" + twitterModel.TweetID))
                                                                            {
                                                                                actorlink = twitterModel.ActorLink + "/status/" + twitterModel.TweetID;
                                                                            }
                }
                <a id="aActorLink_@item.ID" target="_blank" href="@actorlink"><span id="spnTitle_@item.ID">@twitterModel.ActorDisplayname</span>
                </a>&nbsp;<span class="TweetSubdivFont">@@</span><span id="lblPrefferedUserName_@item.ID" class="TweetSubdivFont">@twitterModel.PreferredUserName</span><br />
            </div>
            <div class="clear PaddingTopBottom1p TweetBodyText">
                <div class="">
                    <span id="lblTweetBody_@item.ID">@Html.Raw(item.DisplayText)</span>
                </div>
            </div>
        </div>
        <div class="pull-right">
            <div class="pull-left">
                @if (IQMedia.Shared.Utility.CommonFunctions.Validate_url(twitterModel.ActorImage))
                {
                    <img id="imgActor_@item.ID" csrc="@twitterModel.ActorImage" alt="actor image" class="borderWidth0  maxWidth48" /><br />
                }
            </div>
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0);" /></div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDiv float-left marginleft62">
                <div class="float-left marginright35 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTV_@item.ID" class="float-left sentimentLeftFloat actionBarsection marginright35" title="Sentiment">
                    <div class="float-left">
                        <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                            style="width: 13px; margin-top: 3px;">&nbsp;</div>
                    <div class="divSentimentMain sentimentFont margintop3">
                        <div class="divSentimentMain">
                            <div class="divSentimentNeg">
                                <div style='width:@((twitterModel.NegativeSentiment * 6) > 25 ? 25 : (twitterModel.NegativeSentiment * 6))px;'>
                                    @twitterModel.NegativeSentiment
                                </div>
                            </div>
                            <div class="divSentimentPos">
                                <div style='width:@((twitterModel.PositiveSentiment * 6) > 25 ? 25 : (twitterModel.PositiveSentiment * 6))px;'>
                                    @twitterModel.PositiveSentiment
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="float-left marginright35 actionBarsection">
                    <div class="klout" title="Klout Score">@( string.Format("{0:n0}", twitterModel.KloutScore))</div>
                </div>
                <div class="float-left marginright35 actionBarsection">
                    <div class="followers" title="Followers">@( string.Format("{0:n0}", twitterModel.FollowersCount))</div>
                </div>
                <div class="float-left actionBarsection">
                    <div class="following" title="Following">@( string.Format("{0:n0}", twitterModel.FreiendsCount))</div>
                </div>
            </div>
            <div class="pull-right marginRight10 margintop2">
                <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                    <img src="~/images/edit.png" alt="edit" />
                </a><a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                    <img src="~/images/trash.png" alt="Delete" />
                </a>
            </div>
        </div>
    </div>
                                                                                                                 break;


            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.NM:

                                                                                                                 IQArchive_ArchiveNMModel newsMediaModel = item.MediaData as IQArchive_ArchiveNMModel;
                        
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @sessionInformation.TimeZone</span></div>
            <div align="center" class="network">
                <img src="@String.Format(mediaIconFormat, "news.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.NM)" alt="" /></div>
        </div>
        <div class="pull-left maxWidth83">
            <div>
                <span class="media-heading">
                    @if (newsMediaModel.IQLicense == 3)
                    {
                        <img src="@String.Format(mediaIconFormat, "LexisNexis_Small.png")" title="LexisNexis(R)" alt="LexisNexis(R)" class="lexisNexisImg" />
                    }
                    <a href="@(newsMediaModel.IQLicense > 0 ? Url.Action("Index", "Article", new { au = IQMedia.Shared.Utility.CommonFunctions.EncryptLicenseStringAES(sessionInformation.CustomerKey + "¶Library¶" + newsMediaModel.Url + "&u1=cliq40&u2=" + sessionInformation.ClientID + "¶" + newsMediaModel.IQLicense) }) : newsMediaModel.Url)"
                                                target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a>
                </span>
            </div>
            <div class="newsMediadiv">
                @if (!string.IsNullOrWhiteSpace(newsMediaModel.Publication))
                {
                    <span style="color: #73797F;">@newsMediaModel.Publication - </span>}
                @Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right tvFeedsCheck">
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
            <input type="hidden" value="@((newsMediaModel._ParentID == 0 || newsMediaModel._ParentID == null) ? "true" : "false")" id="hdnIsParent_@item.ID" />
        <div class="clear borderdiv">
            <div class="actionBarLeftDivNMLib float-left">
                <div style="width: 65px" class="float-left">
                    <div align="center" class="margintop2">
                        @if (newsMediaModel.ChildResults != null && newsMediaModel.ChildResults.Count > 0)
                        {
                            <a href="javascript:void(0);"  title="View More" onclick="ShowChild('@item.ID');">
                                <img alt="" id="expand_@item.ID" src="../images/expand.png" /></a>
                        }
                    </div>
                </div>
                <div class="tvcreateddatediv margintop0 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTV_@item.ID" class="margintop2 lineHeight15 float-left actionBarsection marginleft22" >
                    <div class="float-right sentimentLeftFloat actionBarsection" title="Sentiment">
                        <div class="float-left">
                            <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                                style="width: 13px; margin-top: 3px;">&nbsp;</div>
                        <div class="divSentimentMain sentimentFont">
                            <div class="divSentimentMain">
                                <div class="divSentimentNeg">
                                    <div style='width:@((newsMediaModel.NegativeSentiment * 6) > 25 ? 25 : (newsMediaModel.NegativeSentiment * 6))px;'>
                                        @newsMediaModel.NegativeSentiment
                                    </div>
                                </div>
                                <div class="divSentimentPos">
                                    <div style='width:@((newsMediaModel.PositiveSentiment * 6) > 25 ? 25 : (newsMediaModel.PositiveSentiment * 6))px;'>
                                        @newsMediaModel.PositiveSentiment
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @if (Decimal.Compare(Convert.ToDecimal(newsMediaModel.IQAdShareValue), -1M) != 0 && newsMediaModel.Compete_Audience != -1 && sessionInformation.IsCompeteData)
                {
                    <div class="float-left nmchild-tagLib">
                        <div class="NMvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                            <div class="view" title="Audience">
                                @(newsMediaModel.Compete_Audience.HasValue && newsMediaModel.Compete_Audience > 0 ? string.Format("{0:n0}", newsMediaModel.Compete_Audience) : "NA")
                                @if (!string.IsNullOrWhiteSpace(newsMediaModel.Compete_Result) && newsMediaModel.Compete_Result.ToUpper() == "A")
                                {
                                    <img title="Powered by Compete" style="width: 14px" src="~/Images/compete.png" alt="Compete Image" />
                                }
                            </div>
                        </div>
                        <div class="NMvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                            <div class="price" title="Media Value">
                                @(newsMediaModel.IQAdShareValue.HasValue && newsMediaModel.IQAdShareValue > 0 ? string.Format("{0:n2}", newsMediaModel.IQAdShareValue) : "NA")
                            </div>
                        </div>
                    </div>
                }
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a>
                    @{
                                                                                                                                    if (Convert.ToBoolean(TempData["v4Download"]))
                                                                                                                                    {
                        <a id="aSaveNM_@item.ID" onclick="DownloadNM('@item.ID')" class="cursorPointer marginLeft13 saveMedia fleft"
                                                target="_blank">
                            <img title="Download Article" alt="Save" src="~/images/save.png" /></a>
                                                                                                                                    }
                    }
                    <a id="lnkSaveNM_@item.ID"
                                                    target="_blank" href="@(newsMediaModel.IQLicense > 0 ? Url.Action("Index", "Article", new { au = IQMedia.Shared.Utility.CommonFunctions.EncryptLicenseStringAES(sessionInformation.CustomerKey + "¶Library¶" + newsMediaModel.Url + "&u1=cliq40&u2=" + sessionInformation.ClientID + "¶" + newsMediaModel.IQLicense) }) : newsMediaModel.Url)"
                                                    class="marginLeft13 fleft">
                        <img title="View Article" alt="View" src="~/images/viewArticle.png" /></a> <a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                            <img src="~/images/trash.png" alt="Delete" />
                        </a>
                </div>
            </div>
        </div>
        @if (newsMediaModel.ChildResults != null && newsMediaModel.ChildResults.Count > 0)
        {
            <div class="clear" style="display:none;" id="divChildMedia_@item.ID">
                @foreach (IQArchive_MediaModel childItem in newsMediaModel.ChildResults)
                {
                    IQArchive_ArchiveNMModel IQArchive_ChildArchiveNMModel = (IQArchive_ArchiveNMModel)childItem.MediaData;
                    string maxNegativeSentimetnWidth = string.Empty;
                    string maxPositiveSentimetnWidth = string.Empty;
                    string NielsenAudience = string.Empty;
                    string iqAdShareValue = string.Empty;
                    string nielsen_Result = string.Empty;

                    if ((IQArchive_ChildArchiveNMModel.NegativeSentiment * 6) > 25)
                    {

                        maxNegativeSentimetnWidth = "25px";
                    }
                    else
                    {
                        maxNegativeSentimetnWidth = Convert.ToString(IQArchive_ChildArchiveNMModel.NegativeSentiment * 6) + "px";
                    }


                    if ((IQArchive_ChildArchiveNMModel.PositiveSentiment * 6) > 25)
                    {

                        maxPositiveSentimetnWidth = "25px";
                    }
                    else
                    {
                        maxPositiveSentimetnWidth = Convert.ToString(IQArchive_ChildArchiveNMModel.PositiveSentiment * 6) + "px";
                    }



                    if (IQArchive_ChildArchiveNMModel.Compete_Audience.HasValue)
                    {
                        NielsenAudience = string.Format("{0:n0}", IQArchive_ChildArchiveNMModel.Compete_Audience);
                    }


                    if (IQArchive_ChildArchiveNMModel.IQAdShareValue.HasValue)
                    {
                        iqAdShareValue = string.Format("{0:n2}", (IQArchive_ChildArchiveNMModel.IQAdShareValue.Value));

                        if (!string.IsNullOrWhiteSpace(IQArchive_ChildArchiveNMModel.Compete_Result))
                        {
                            nielsen_Result = IQArchive_ChildArchiveNMModel.Compete_Result.ToUpper();
                        }
                    }
                    <div class="media" id="divMedia_@childItem.ID">
                        <div class="clear">
                            <div class="actionBarLeftDivNMLib float-left">
                                <div style="width: 65px" class="float-left">
                                    <div align="center" class="margintop2">
                                    </div>
                                </div>
                                <div class="tvcreateddatediv tvsentimentmargintop trimtext">
                                    @IQArchive_ChildArchiveNMModel.Publication
                                </div>
                                <div id="divSentimentNM_@childItem.ID" class="margintop2 lineHeight15 float-left tvsentimentmargintop marginleft22">
                                    <div class="float-right sentimentLeftFloat actionBarsection" title="Sentiment">
                                        <div class="float-left">
                                            <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                                                style="width: 13px; margin-top: 3px;">&nbsp;</div>
                                        <div class="divSentimentMain sentimentFont">
                                            <div class="divSentimentMain">
                                                <div class="divSentimentNeg">
                                                    <div style='width:@maxNegativeSentimetnWidth'>
                                                        @IQArchive_ChildArchiveNMModel.NegativeSentiment
                                                    </div>
                                                </div>
                                                <div class="divSentimentPos">
                                                    <div style='width:@maxPositiveSentimetnWidth'>
                                                        @IQArchive_ChildArchiveNMModel.PositiveSentiment
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="float-left nmchild-tagLib tvsentimentmargintop">
                                    <div class="NMvideo-tags-ParentChildLib margintop0 float-left actionBarsection">
                                        <div class="view" title="Audience">
                                            @if (Convert.ToDecimal(IQArchive_ChildArchiveNMModel.IQAdShareValue) > 0 && sessionInformation.IsCompeteData)
                                            {            
                                                <text>@NielsenAudience</text>
                                            }
                                        </div>
                                    </div>
                                    <div class="NMvideo-tags-ParentChildLib margintop0  float-left actionBarsection">
                                        <div class="price">
                                            @if (IQArchive_ChildArchiveNMModel.IQAdShareValue > 0 && sessionInformation.IsCompeteData)
                                            {
                                                <text>@iqAdShareValue @nielsen_Result</text>
                                            }
                                        </div>
                                    </div>
                                    <div class="NMvideo-tags-ParentChildLibLast margintop0  float-left actionBarsection">
                                        @childItem.MediaDate.ToString("MMM dd, yyyy hh:mm:ss tt") @sessionInformation.TimeZone
                                    </div>
                                </div>
                            </div>
                            <div class="float-right nmFeedsThumbParentChild tvsentimentmargintop">
                                <div>
                                    <a onclick="OpenEditRecord('@childItem.ID');" title="Edit Record" class="marginLeft13 fleft cursorPointer"
                                        href="javascript:void(0);">
                                        <img alt="edit" src="/images/edit.png"></a>
                                    @if (Convert.ToBoolean(TempData["v4Download"]))
                                    {
                                        <a class="marginLeft13 fleft cursorPointer" rel="popover" href="javascript:void(0);"
                                        onclick="DownloadNM('@childItem.ID');" id="lnkDownloadClip_1270">
                                            <img src="/images/save.png" alt="Download Clip" title="Download Clip">
                                        </a>
                                    }
                                    <a id="lnkSaveNM_@childItem.ID" target="_blank" href="@(IQArchive_ChildArchiveNMModel.IQLicense > 0 ? Url.Action("Index", "Article", new { au = IQMedia.Shared.Utility.CommonFunctions.EncryptLicenseStringAES(sessionInformation.CustomerKey + "¶Library¶" + IQArchive_ChildArchiveNMModel.Url + "&u1=cliq40&u2=" + sessionInformation.ClientID + "¶" + IQArchive_ChildArchiveNMModel.IQLicense) }) : IQArchive_ChildArchiveNMModel.Url)"
                                                    class="marginLeft13 fleft cursorPointer">
                                        <img title="View Article" alt="View" src="~/images/viewArticle.png" />
                                    </a><a onclick="DeleteByID('@childItem.ID');" title="Delete Item" class="marginLeft13 fleft cursorPointer"
                                        href="javascript:void(0);">
                                        <img alt="Delete" src="/images/trash.png">
                                    </a><a class="marginLeft13 fleft cursorPointer" href="javascript:void(0);">
                                        <input type="checkbox" value="@childItem.ID" id="chkdivChildResults_@childItem.ID"  />
                                    </a>
                                </div>
                                <input type="hidden" value="@((IQArchive_ChildArchiveNMModel._ParentID == 0 || IQArchive_ChildArchiveNMModel._ParentID == null) ? "true" : "false")" id="hdnIsParent_@childItem.ID" />
                                <div class="clearfix">
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
    </div>
            
        break;


            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.PM:

        string PMBasePath = Convert.ToString(System.Configuration.ConfigurationManager.AppSettings["IQArchieve_PMBaseUrl"]);
        IQArchive_ArchiveBLPMModel PMModel = item.MediaData as IQArchive_ArchiveBLPMModel;
            
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @sessionInformation.TimeZone</span></div>
            <div align="center" class="network">
                <img src="@String.Format(mediaIconFormat, "print-media.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.PM)" alt="" /></div>
        </div>
        <div class="pull-left maxWidth83">
            <div>
                <span class="media-heading"><a href="@(PMBasePath + PMModel.FileLocation.Replace(@"\", @"/"))"target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a></span>
            </div>
            <div class="newsMediadiv">
                <div class="clearfix">
                </div>
                @if (!string.IsNullOrWhiteSpace(@PMModel.Pub_Name))
                {
                    <span style="color: #73797F;">
                        @if (@PMModel.Pub_Name.Length > 22)
                        {@PMModel.Pub_Name.Substring(0, 22)}
                        else
                        {@PMModel.Pub_Name}
                        - </span>
                }
                @Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right marginbottom5">
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
        <div class="clear borderdiv">
            <div class="pull-left marginleft62 ">
                &nbsp;</div>
            <div class="pull-left marginright35 actionBarsection">
                @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
            </div>
            <div class="pull-left actionBarsection">
                Circulation:&nbsp;<span>@(string.Format("{0:n0}", PMModel.Circulation))</span>
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a><a id="aShowNewsPM_@item.ID"
                                                    target="_blank" href="@(PMBasePath + PMModel.FileLocation.Replace(@"\", @"/"))"
                                                    class="marginLeft13 fleft">
                        <img title="View Article" alt="View" src="~/images/viewArticle.png" /></a> <a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                            <img src="~/images/trash.png" alt="Delete" />
                        </a>
                </div>
            </div>
        </div>
    </div>
            
                                                                                                                                                                                                break;


            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.SocialMedia:
                                                                                                                                                                                                IQArchive_ArchiveSMModel socialMediaModel = item.MediaData as IQArchive_ArchiveSMModel;
                        
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @sessionInformation.TimeZone</span></div>
            <div align="center" class="network">
                <img src="@String.Format(mediaIconFormat, "social-media.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.SocialMedia)" alt="" /></div>
        </div>
        <div class="pull-left maxWidth83">
            <div>
                <span class="media-heading"><a href="@socialMediaModel.Url"
                                                target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a></span>
            </div>
            <div class="newsMediadiv">
                @if (!string.IsNullOrWhiteSpace(socialMediaModel.Publication))
                {
                    <span style="color: #73797F;">@socialMediaModel.Publication - </span>}@Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right marginbottom5">
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDiv float-left marginleft62">
                <div class="pull-left marginright35 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTV_@item.ID" class="float-left sentimentLeftFloat actionBarsection marginright35" title="Sentiment">
                    <div class="float-left">
                        <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                            style="width: 13px; margin-top: 3px;">&nbsp;</div>
                    <div class="divSentimentMain sentimentFont margintop2">
                        <div class="divSentimentMain">
                            <div class="divSentimentNeg">
                                <div style='width:@((socialMediaModel.NegativeSentiment * 6) > 25 ? 25 : (socialMediaModel.NegativeSentiment * 6))px;'>
                                    @socialMediaModel.NegativeSentiment
                                </div>
                            </div>
                            <div class="divSentimentPos">
                                <div style='width:@((socialMediaModel.PositiveSentiment * 6) > 25 ? 25 : (socialMediaModel.PositiveSentiment * 6))px;'>
                                    @socialMediaModel.PositiveSentiment
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a>
                    @{
                    
                                                                                                                                    if (Convert.ToBoolean(TempData["v4Download"]))
                                                                                                                                    {
                        <a id="aSaveSM_@item.ID" onclick="DownloadSM('@item.ID')" class="cursorPointer marginLeft13 saveMedia fleft"
                                                target="_blank">
                            <img title="Save Article" alt="Save" src="~/images/save.png" /></a>
                                                                                                                                    }
                    }
                    <a id="lnkSaveSM_@item.ID"
                                                    target="_blank" href="@socialMediaModel.Url"
                                                    class="marginLeft13 fleft">
                        <img title="View Article" alt="View" src="~/images/viewArticle.png" /></a> <a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                            <img src="~/images/trash.png" alt="Delete" />
                        </a>
                </div>
            </div>
        </div>
    </div>
                                                                                                                                                                                                break;
            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.Forum:

                                                                                                                                                                                                IQArchive_ArchiveSMModel forumModel = item.MediaData as IQArchive_ArchiveSMModel;
                        
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @sessionInformation.TimeZone</span></div>
            <div align="center" class="network">
                <img src="@String.Format(mediaIconFormat, "forum.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.Forum)" alt="" /></div>
        </div>
        <div class="pull-left maxWidth83">
            <div>
                <span class="media-heading"><a href="@forumModel.Url"
                                                target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a></span>
            </div>
            <div class="newsMediadiv">
                @if (!string.IsNullOrWhiteSpace(forumModel.Publication))
                {
                    <span style="color: #73797F;">@forumModel.Publication - </span>
                }@Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right marginbottom5">
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDiv float-left marginleft62">
                <div class="pull-left marginright35 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTV_@item.ID" class="float-left sentimentLeftFloat actionBarsection marginright35" title="Sentiment">
                    <div class="float-left">
                        <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                            style="width: 13px; margin-top: 3px;">&nbsp;</div>
                    <div class="divSentimentMain sentimentFont margintop2">
                        <div class="divSentimentMain">
                            <div class="divSentimentNeg">
                                <div style='width:@((forumModel.NegativeSentiment * 6) > 25 ? 25 : (forumModel.NegativeSentiment * 6))px;'>
                                    @forumModel.NegativeSentiment
                                </div>
                            </div>
                            <div class="divSentimentPos">
                                <div style='width:@((forumModel.PositiveSentiment * 6) > 25 ? 25 : (forumModel.PositiveSentiment * 6))px;'>
                                    @forumModel.PositiveSentiment
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a>
                    @{
                    
                                                                                                                                    if (Convert.ToBoolean(TempData["v4Download"]))
                                                                                                                                    {
                        <a id="aSaveForum_@item.ID" onclick="DownloadSM('@item.ID')" class="marginLeft13 cursorPointer saveMedia fleft"
                                                target="_blank">
                            <img title="Save Article" alt="Save" src="~/images/save.png" /></a>
                                                                                                                                    }
                    }
                    <a id="lnkSaveForum_@item.ID"
                                                    target="_blank" href="@forumModel.Url"
                                                    class="marginLeft13 fleft">
                        <img title="View Article" alt="View" src="~/images/viewArticle.png" /></a> <a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                            <img src="~/images/trash.png" alt="Delete" />
                        </a>
                </div>
            </div>
        </div>
    </div>
                                                                                                                                                                                                break;
            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.Blog:

                                                                                                                                                                                                IQArchive_ArchiveSMModel blogModel = item.MediaData as IQArchive_ArchiveSMModel;
                        
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @sessionInformation.TimeZone</span></div>
            <div align="center" class="network">
                <img src="@String.Format(mediaIconFormat, "blog.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.Blog)" alt="" /></div>
        </div>
        <div class="pull-left maxWidth83">
            <div>
                <span class="media-heading"><a href="@blogModel.Url"
                                                target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a></span>
            </div>
            <div class="newsMediadiv">
                @if (!string.IsNullOrWhiteSpace(blogModel.Publication))
                {
                    <span style="color: #73797F;">@blogModel.Publication - </span>
                }@Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right marginbottom5">
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDiv float-left marginleft62">
                <div class="pull-left marginright35 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTV_@item.ID" class="float-left sentimentLeftFloat actionBarsection marginright35" title="Sentiment">
                    <div class="float-left">
                        <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                            style="width: 13px; margin-top: 3px;">&nbsp;</div>
                    <div class="divSentimentMain sentimentFont margintop2">
                        <div class="divSentimentMain">
                            <div class="divSentimentNeg">
                                <div style='width:@((blogModel.NegativeSentiment * 6) > 25 ? 25 : (blogModel.NegativeSentiment * 6))px;'>
                                    @blogModel.NegativeSentiment
                                </div>
                            </div>
                            <div class="divSentimentPos">
                                <div style='width:@((blogModel.PositiveSentiment * 6) > 25 ? 25 : (blogModel.PositiveSentiment * 6))px;'>
                                    @blogModel.PositiveSentiment
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @if (Decimal.Compare(Convert.ToDecimal(blogModel.IQAdShareValue), -1M) != 0 && blogModel.Compete_Audience != -1 && sessionInformation.IsCompeteData)
                {
                    <div class="video-tags margintop0 marginright35 actionBarsection">
                        <div class="view" title="Audience">
                            @if (blogModel.Compete_Audience.HasValue)
                            {
                                @(string.Format("{0:n0}", blogModel.Compete_Audience))
                            }
                            else
                            {
                                @("NA")
                            }
                            @if (!string.IsNullOrWhiteSpace(blogModel.Compete_Result) && blogModel.Compete_Result.ToUpper() == "A")
                            {
                                <img title="Powered by Compete" style="width: 14px" src="~/Images/compete.png" alt="Compete Image" />
                            }
                        </div>
                    </div>
                                            
                    <div class="video-tags margintop0 actionBarsection">
                        <div class="price">
                            @if (blogModel.IQAdShareValue.HasValue)
                            {
                                @( string.Format("{0:n2}", blogModel.IQAdShareValue))
                            }
                            else
                            {
                                @("NA")
                            }
                        </div>
                    </div>
                }
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a>
                    @{
                                                                                                                                    if (Convert.ToBoolean(TempData["v4Download"]))
                                                                                                                                    {
                        <a id="aSaveBlog_@item.ID" onclick="DownloadSM('@item.ID')" class="marginLeft13 cursorPointer saveMedia fleft"
                                                target="_blank">
                            <img title="Save Article" alt="Save" src="~/images/save.png" /></a>
                                                                                                                                    }
                    }
                    <a id="lnkSaveBlog_@item.ID"
                                                    target="_blank" href="@blogModel.Url"
                                                    class="marginLeft13 fleft">
                        <img title="View Article" alt="View" src="~/images/viewArticle.png" /></a> <a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                            <img src="~/images/trash.png" alt="Delete" />
                        </a>
                </div>
            </div>
        </div>
    </div>
                                                                                                                                                                                                break;
            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.FB:

                                                                                                                                                                                                IQArchive_ArchiveSMModel fbModel = item.MediaData as IQArchive_ArchiveSMModel;
                        
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @sessionInformation.TimeZone</span></div>
            <div align="center" class="network">
                <img src="@String.Format(mediaIconFormat, "facebook.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.FB)" alt="" /></div>
        </div>
        <div class="pull-left TweetBodyDivIQP borderBoxSizing">
            <div class="media-heading-fb">
                <span><a href="@fbModel.Url" target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a></span>
                <span class="arrow"></span>
                <span>@fbModel.Publication</span>
                @if (fbModel.ArticleStats != null && fbModel.ArticleStats.IsVerified)
                {
                    <span class="verified" title="Verified Page"></span>
                }
            </div>
            <div class="clear PaddingTopBottom1p TweetBodyText">
                @Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right marginbottom5">
	        <div class="pull-left">
		        @if (IQMedia.Shared.Utility.CommonFunctions.Validate_url(fbModel.ThumbUrl))
          {
			        <img csrc="@fbModel.ThumbUrl" alt="post image" class="borderWidth0  maxWidth48" />
                    <br />
          }
	        </div>
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDiv float-left marginleft62">
                <div class="pull-left marginright35 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTV_@item.ID" class="float-left sentimentLeftFloat actionBarsection">
                    <!-- Add placeholders to maintain line height if there are no stats -->
                    <div>&nbsp;</div>
                </div>
                @if (fbModel.ArticleStats != null)
                {
                    <div class="video-tags margintop0 marginright35 actionBarsection">
                        <div class="likes" title="Likes">
                            @fbModel.ArticleStats.Likes
                        </div>
                    </div>
                    <div class="video-tags margintop0 marginright35 actionBarsection">
                        <div class="comments" title="Comments">
                            @fbModel.ArticleStats.Comments
                        </div>
                    </div>
                    <div class="video-tags margintop0 actionBarsection">
                        <div class="shares" title="Shares">
                            @fbModel.ArticleStats.Shares
                        </div>
                    </div>
                }
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a>
                    <a id="lnkSaveFB_@item.ID" target="_blank" href="@fbModel.Url" class="marginLeft13 fleft">
                        <img title="View Article" alt="View" src="~/images/viewArticle.png" />
                    </a> 
                    <a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                        <img src="~/images/trash.png" alt="Delete" />
                    </a>
                </div>
            </div>
        </div>
    </div>
                                                                                                                 break;
            case CommonFunctions.CategoryType.Radio:
                                                                                                                 IQArchive_ArchiveTVEyesModel TVEyesModel = item.MediaData as IQArchive_ArchiveTVEyesModel;
                                                                                                                 Month = TVEyesModel.LocalDateTime != null ? TVEyesModel.LocalDateTime.ToString("MMM", System.Globalization.CultureInfo.InvariantCulture) : string.Empty;
                                                                                                                 Day = TVEyesModel.LocalDateTime != null ? TVEyesModel.LocalDateTime.Day.ToString() : string.Empty;
                                                                                                                 Time = TVEyesModel.LocalDateTime != null ? TVEyesModel.LocalDateTime.ToString("hh:mm tt") : string.Empty;                                                                                                                                                                                                                                                 
    <div class="media" id="divMedia_@item.ID">
        <div class="tvFeedsDate">
            <div class="pull-left">
                <div class="post-date">
                    <span class="month">@Month
                    </span>
                    <div>
                        <span class="today">@Day </span>
                    </div>
                    <span class="timeWithTimeZone">@Time @TVEyesModel.TimeZone
                    </span>
                </div>
                <div class="network" align="center">
                    <img src="@String.Format(mediaIconFormat, "radio.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.Radio)" alt="" /></div>
            </div>
        </div>
        <div class="pull-left tvFeedsMarket tmStationDiv">
            <div style="float: left; color: Red">
                <div class="minHeight32">
                    @TVEyesModel.StationID</div>
            </div>
        </div>
        <div class="tvFeedsContent">
            <div class="pull-left media-body tvFeedsDetail">
                <span class="media-heading" id="spnTitle_@item.ID">
                    @item.Title
                </span>
                <div class="clearfix">
                </div>
                @{
               if (!string.IsNullOrWhiteSpace(TVEyesModel.Market))
               {
                    <span style="color: #73797F;">
                        @TVEyesModel.Market - </span>
               }

                                                            
                }
                @Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right tvFeedsThumbParent">
            <div class="float-left video-thumb-width tvFeedsThumb marginRight10">
                <div class="positionRelative">
                    <a onclick="LoadTMPopup('@item.ArchiveMediaID')" class="cursorPointer">
                        <img class="media-object" csrc="~/images/video.png" alt="" />
                    </a>
                </div>
            </div>
            <div class="float-right tvFeedsCheck">
                <input type="checkbox" value="@item.ID" id="chkdivResults_@item.ID"  /></div>
            <div class="clearfix">
            </div>
        </div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDiv float-left marginleft62">
                <div class="TVvideo-tags margintop0  marginright35 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
                <div id="divSentimentTM_@item.ID" class="margintop2 lineHeight15 pull-left marginright35 actionBarsection" title="Sentiment">
                    &nbsp;<div class="float-right sentimentLeftFloat actionBarsection">
                        <div class="float-left">
                            <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                                style="width: 13px; margin-top: 3px;">&nbsp;</div>
                        <div class="divSentimentMain sentimentFont">
                            <div class="divSentimentMain">
                                <div class="divSentimentNeg">
                                    <div style='width:@((TVEyesModel.NegativeSentiment * 6) > 25 ? 25 : (TVEyesModel.NegativeSentiment * 6))px;'>
                                        @TVEyesModel.NegativeSentiment
                                    </div>
                                </div>
                                <div class="divSentimentPos">
                                    <div style='width:@((TVEyesModel.PositiveSentiment * 6) > 25 ? 25 : (TVEyesModel.PositiveSentiment * 6))px;'>
                                        @TVEyesModel.PositiveSentiment
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @if (!string.IsNullOrEmpty(TVEyesModel.DMARank))
                {
                    <div class="TVvideo-tags margintop0 marginright35 actionBarsection">
                        Market Rank:&nbsp;<span>@TVEyesModel.DMARank</span>
                    </div>
                }
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    @{
                if (Convert.ToBoolean(TempData["v4Download"]))
                {
                        <a onclick="DownloadTVEyes('@item.ID')" class="cursorPointer marginLeft13 saveMedia fleft"
                                                target="_blank">
                            <img title="Download Article" alt="Save" src="~/images/save.png" /></a>
                }
                    }
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a><a href="javascript:void(0);"  class="marginLeft13 cursorPointer fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                        <img src="~/images/trash.png" alt="Delete" />
                    </a>
                </div>
            </div>
        </div>
    </div>
                                                                                                                                    break;


            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.MS:
                                                                                                                                    IQArchive_ArchiveMiscModel miscModel = item.MediaData as IQArchive_ArchiveMiscModel;

                                                                                                                                    Month = miscModel.CreateDT.ToString("MMM", System.Globalization.CultureInfo.InvariantCulture);
                                                                                                                                    Day = miscModel.CreateDT.Day.ToString();
                                                                                                                                    Time = miscModel.CreateDT.ToString("hh:mm tt");

                                                                                                                                    string catimg = string.Empty;
                                                                                                                                    string tooltip = string.Empty;
                                                                                                                                    switch (miscModel.FileType)
                                                                                                                                    {
                                                                                                                                        case IQMedia.Shared.Utility.CommonFunctions.IQUGCMediaTypes.Doc:
                                                                                                                                            catimg = "word.png";
                                                                                                                                            tooltip = "Document";
                                                                                                                                            break;
                                                                                                                                        case IQMedia.Shared.Utility.CommonFunctions.IQUGCMediaTypes.Excel:
                                                                                                                                            catimg = "excel.png";
                                                                                                                                            tooltip = "Spreadsheet";
                                                                                                                                            break;
                                                                                                                                        case IQMedia.Shared.Utility.CommonFunctions.IQUGCMediaTypes.Pdf:
                                                                                                                                            catimg = "pdf.png";
                                                                                                                                            tooltip = "PDF";
                                                                                                                                            break;
                                                                                                                                        case IQMedia.Shared.Utility.CommonFunctions.IQUGCMediaTypes.Image:
                                                                                                                                            catimg = "image.png";
                                                                                                                                            tooltip = "Image";
                                                                                                                                            break;
                                                                                                                                        default:
                                                                                                                                            catimg = string.Empty;
                                                                                                                                            break;
                                                                                                                                    }
                        
    <div id="divMedia_@item.ID" class="media">
        <div class="pull-left">
            <div class="post-date">
                <span class="month">@Month</span><div>
                    <span class="today">@Day</span></div>
                <span class="timeWithTimeZone">@Time @miscModel.TimeZone</span></div>
            <div align="center" class="network">
                <img src="/images/MediaIcon/@catimg" title="@tooltip" alt=''>
            </div>
        </div>
        <div class="pull-left maxWidth83">
            <div>
                <span class="media-heading"><a href="@miscModel.MediaUrl" target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a></span>
            </div>
            <div class="newsMediadiv">
                @Html.Raw(item.DisplayText)
            </div>
        </div>
        <div class="float-right marginbottom5">
            <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
        <div class="clear borderdiv">
            <div class="actionBarLeftDiv float-left marginleft62">
                <div class="pull-left marginright35 actionBarsection">
                    @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                </div>
            </div>
            <div class="marginRight10 pull-right minWidth52IE8">
                <div class="margintop2">
                    <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                        <img src="~/images/edit.png" alt="edit" />
                    </a>
                    <a id="lnkSaveMS_@item.ID" target="_blank" href="@miscModel.MediaUrl" class="marginLeft13 fleft">
                        <img title="View Article" alt="View" src="~/images/viewArticle.png" />
                    </a> 
                    <a href="javascript:void(0);" class="marginLeft13 fleft" title="Delete Item" onclick="DeleteByID('@item.ID');">
                        <img src="~/images/trash.png" alt="Delete" />
                    </a>
                </div>
            </div>
        </div>
    </div>
                                                                                                                 break;

            case IQMedia.Shared.Utility.CommonFunctions.CategoryType.PQ:

                                                                                                                 IQArchive_ArchivePQModel pqMediaModel = item.MediaData as IQArchive_ArchivePQModel;
                                                                                                                 string authors = String.Empty;
                                                                                                                 if (pqMediaModel.Authors != null && pqMediaModel.Authors.Count > 0)
                                                                                                                 {
                                                                                                                     authors = "(" + (pqMediaModel.Authors.Count > 2 ? String.Join(", ", pqMediaModel.Authors.Take(2)) : String.Join(", ", pqMediaModel.Authors)) + ") ";
                                                                                                                 }
                        
            <div id="divMedia_@item.ID" class="media">
                <div class="pull-left">
                    <div class="post-date">
                        <span class="month">@Month</span><div>
                            <span class="today">@Day</span></div>
                        <span class="timeWithTimeZone">&nbsp;</span></div>
                    <div align="center" class="network">
                        <img src="@String.Format(mediaIconFormat, "print-media_T.png")" title="@CommonFunctions.GetEnumDescription(CommonFunctions.CategoryType.PQ)" alt="" /></div>
                </div>
                <div class="pull-left maxWidth83">
                    <div>
                        <span class="media-heading"><a onclick="ShowViewArticleLibrary('@item.ID');" class="cursorPointer" target="_blank"><span id="spnTitle_@item.ID">@Html.Raw(item.Title)</span></a></span>
                    </div>
                    <div class="newsMediadiv">
                        @if (!string.IsNullOrWhiteSpace(pqMediaModel.Publication))
                        {
                            <span style="color: #73797F;">@pqMediaModel.Publication @(authors)- </span>}
                        @Html.Raw(item.DisplayText)
                    </div>
                </div>
                <div class="float-right tvFeedsCheck">
                    <input type="checkbox" id="chkdivResults_@item.ID" value="@item.ID" onclick="javascript:void(0)" /></div>
                <div class="clear borderdiv">
                    <div class="actionBarLeftDiv float-left marginleft62">
                        <div class="pull-left marginright35 actionBarsection">
                            @( item.CreatedDate.HasValue ? item.CreatedDate.Value.ToString("MMM dd, yyyy hh:mm:ss tt") : string.Empty)
                        </div>
                        <div id="divSentimentTV_@item.ID" class="float-left sentimentLeftFloat actionBarsection marginright35" title="Sentiment">
                            <div class="float-left">
                                <img src="../Images/thumbs-up.png" style="width: 13px; margin-top: -4px;"><img src="../Images/thumbs-down.png"
                                    style="width: 13px; margin-top: 3px;">&nbsp;</div>
                            <div class="divSentimentMain sentimentFont margintop2">
                                <div class="divSentimentMain">
                                    <div class="divSentimentNeg">
                                        <div style='width:@((pqMediaModel.NegativeSentiment * 6) > 25 ? 25 : (pqMediaModel.NegativeSentiment * 6))px;'>
                                            @pqMediaModel.NegativeSentiment
                                        </div>
                                    </div>
                                    <div class="divSentimentPos">
                                        <div style='width:@((pqMediaModel.PositiveSentiment * 6) > 25 ? 25 : (pqMediaModel.PositiveSentiment * 6))px;'>
                                            @pqMediaModel.PositiveSentiment
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="marginRight10 pull-right minWidth52IE8">
                        <div class="margintop2">
                            <a href="javascript:void(0);"  class="marginLeft13 fleft cursorPointer" title="Edit Record" onclick="OpenEditRecord('@item.ID');">
                                <img src="~/images/edit.png" alt="Edit" />
                            </a>
                            <a href="javascript:void(0);" class="marginLeft13 fleft cursorPointer" title="View Article" onclick="ShowViewArticleLibrary('@item.ID');">
                                <img alt="View" src="~/images/viewArticle.png" />
                            </a>
                            <a href="javascript:void(0);" class="marginLeft13 fleft cursorPointer" title="Delete Item" onclick="DeleteByID('@item.ID');">
                                <img src="~/images/trash.png" alt="Delete" />
                            </a>
                        </div>
                    </div>
                </div>
            </div>
                                                                                                                                       break;
        }
    }
}
